@using Configastic.Components.Features.Scanner.Pages.ViewModels
@using MudBlazor

<MudButtonGroup Color="Color.Primary" Variant="Variant.Filled">
    @foreach (var item in RelaysViewModels)
    {
        <MudButton
            IconColor="@item.Color"
            StartIcon="@item.Icon"
            OnClick="() => UpdateToggleState(item, !item.IsToggled)">
                   @item.Title
        </MudButton>
    }
</MudButtonGroup>

@code {
    [Parameter]
    public List<RelayViewModel> RelaysViewModels { get; set; } = [];

    private void UpdateToggleState(RelayViewModel viewModel, bool newValue)
    {
        viewModel.IsToggled = newValue;
        // Optional: Add any additional logic when toggle state changes
        StateHasChanged();
    }
}
